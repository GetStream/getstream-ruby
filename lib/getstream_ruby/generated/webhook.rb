# Code generated by GetStream internal OpenAPI code generator. DO NOT EDIT.

require 'openssl'
require 'json'
require_relative 'models/follow_updated_event'
require_relative 'models/call_stats_report_ready_event'
require_relative 'models/async_export_error_event'
require_relative 'models/custom_video_event'
require_relative 'models/permission_request_event'
require_relative 'models/stories_feed_updated_event'
require_relative 'models/activity_feedback_event'
require_relative 'models/appeal_accepted_event'
require_relative 'models/comment_reaction_updated_event'
require_relative 'models/async_export_moderation_logs_event'
require_relative 'models/channel_created_event'
require_relative 'models/user_updated_event'
require_relative 'models/ingress_started_event'
require_relative 'models/call_session_participant_left_event'
require_relative 'models/activity_mark_event'
require_relative 'models/call_closed_captions_started_event'
require_relative 'models/call_session_participant_counts_updated_event'
require_relative 'models/bookmark_folder_deleted_event'
require_relative 'models/moderation_custom_action_event'
require_relative 'models/call_rtmp_broadcast_stopped_event'
require_relative 'models/closed_caption_event'
require_relative 'models/user_banned_event'
require_relative 'models/follow_deleted_event'
require_relative 'models/message_deleted_event'
require_relative 'models/call_recording_ready_event'
require_relative 'models/member_removed_event'
require_relative 'models/moderation_check_completed_event'
require_relative 'models/kicked_user_event'
require_relative 'models/message_read_event'
require_relative 'models/feed_member_added_event'
require_relative 'models/campaign_started_event'
require_relative 'models/user_unmuted_event'
require_relative 'models/channel_frozen_event'
require_relative 'models/call_moderation_blur_event'
require_relative 'models/comment_added_event'
require_relative 'models/moderation_flagged_event'
require_relative 'models/flag_updated_event'
require_relative 'models/follow_created_event'
require_relative 'models/activity_removed_from_feed_event'
require_relative 'models/call_closed_captions_stopped_event'
require_relative 'models/call_rtmp_broadcast_started_event'
require_relative 'models/comment_updated_event'
require_relative 'models/call_hls_broadcasting_failed_event'
require_relative 'models/appeal_created_event'
require_relative 'models/channel_visible_event'
require_relative 'models/call_member_updated_event'
require_relative 'models/call_transcription_stopped_event'
require_relative 'models/reaction_new_event'
require_relative 'models/review_queue_item_new_event'
require_relative 'models/member_added_event'
require_relative 'models/feed_member_removed_event'
require_relative 'models/message_flagged_event'
require_relative 'models/user_deleted_event'
require_relative 'models/comment_reaction_added_event'
require_relative 'models/call_member_added_event'
require_relative 'models/feed_updated_event'
require_relative 'models/call_member_removed_event'
require_relative 'models/channel_unmuted_event'
require_relative 'models/activity_added_event'
require_relative 'models/call_ring_event'
require_relative 'models/channel_batch_started_event'
require_relative 'models/call_frame_recording_started_event'
require_relative 'models/activity_deleted_event'
require_relative 'models/max_streak_changed_event'
require_relative 'models/reminder_updated_event'
require_relative 'models/activity_updated_event'
require_relative 'models/call_transcription_started_event'
require_relative 'models/campaign_completed_event'
require_relative 'models/bookmark_folder_updated_event'
require_relative 'models/feed_created_event'
require_relative 'models/updated_call_permissions_event'
require_relative 'models/async_export_channels_event'
require_relative 'models/pending_message_event'
require_relative 'models/call_rejected_event'
require_relative 'models/call_member_updated_permission_event'
require_relative 'models/user_unread_reminder_event'
require_relative 'models/call_notification_event'
require_relative 'models/call_transcription_failed_event'
require_relative 'models/notification_thread_message_new_event'
require_relative 'models/activity_reaction_updated_event'
require_relative 'models/call_ended_event'
require_relative 'models/activity_unpinned_event'
require_relative 'models/call_dtmf_event'
require_relative 'models/feed_member_updated_event'
require_relative 'models/call_hls_broadcasting_started_event'
require_relative 'models/channel_deleted_event'
require_relative 'models/feed_group_changed_event'
require_relative 'models/call_user_feedback_submitted_event'
require_relative 'models/channel_updated_event'
require_relative 'models/comment_deleted_event'
require_relative 'models/custom_event'
require_relative 'models/reminder_created_event'
require_relative 'models/async_export_users_event'
require_relative 'models/activity_pinned_event'
require_relative 'models/call_recording_stopped_event'
require_relative 'models/bookmark_updated_event'
require_relative 'models/activity_reaction_deleted_event'
require_relative 'models/call_recording_failed_event'
require_relative 'models/call_rtmp_broadcast_failed_event'
require_relative 'models/call_session_participant_joined_event'
require_relative 'models/call_transcription_ready_event'
require_relative 'models/user_reactivated_event'
require_relative 'models/call_updated_event'
require_relative 'models/call_recording_started_event'
require_relative 'models/reaction_deleted_event'
require_relative 'models/call_deleted_event'
require_relative 'models/activity_reaction_added_event'
require_relative 'models/bookmark_added_event'
require_relative 'models/call_frame_recording_frame_ready_event'
require_relative 'models/comment_reaction_deleted_event'
require_relative 'models/reaction_updated_event'
require_relative 'models/message_new_event'
require_relative 'models/appeal_rejected_event'
require_relative 'models/bookmark_deleted_event'
require_relative 'models/call_live_started_event'
require_relative 'models/activity_restored_event'
require_relative 'models/channel_truncated_event'
require_relative 'models/moderation_mark_reviewed_event'
require_relative 'models/channel_hidden_event'
require_relative 'models/review_queue_item_updated_event'
require_relative 'models/user_muted_event'
require_relative 'models/user_deactivated_event'
require_relative 'models/thread_updated_event'
require_relative 'models/message_unblocked_event'
require_relative 'models/message_undeleted_event'
require_relative 'models/call_accepted_event'
require_relative 'models/feed_deleted_event'
require_relative 'models/call_moderation_warning_event'
require_relative 'models/member_updated_event'
require_relative 'models/notification_feed_updated_event'
require_relative 'models/call_reaction_event'
require_relative 'models/call_frame_recording_stopped_event'
require_relative 'models/user_unbanned_event'
require_relative 'models/blocked_user_event'
require_relative 'models/call_closed_captions_failed_event'
require_relative 'models/call_hls_broadcasting_stopped_event'
require_relative 'models/ingress_stopped_event'
require_relative 'models/ingress_error_event'
require_relative 'models/call_session_ended_event'
require_relative 'models/call_created_event'
require_relative 'models/reminder_deleted_event'
require_relative 'models/call_session_started_event'
require_relative 'models/async_bulk_image_moderation_event'
require_relative 'models/unblocked_user_event'
require_relative 'models/user_flagged_event'
require_relative 'models/call_frame_recording_failed_event'
require_relative 'models/user_messages_deleted_event'
require_relative 'models/channel_batch_completed_event'
require_relative 'models/notification_mark_unread_event'
require_relative 'models/reminder_notification_event'
require_relative 'models/call_user_muted_event'
require_relative 'models/call_missed_event'
require_relative 'models/channel_un_frozen_event'
require_relative 'models/message_updated_event'
require_relative 'models/feed_group_deleted_event'
require_relative 'models/channel_muted_event'

module StreamChat
  module Webhook
    # Webhook event type constants
    EVENT_TYPE_WILDCARD = '*'
    EVENT_TYPE_APPEAL_ACCEPTED = 'appeal.accepted'
    EVENT_TYPE_APPEAL_CREATED = 'appeal.created'
    EVENT_TYPE_APPEAL_REJECTED = 'appeal.rejected'
    EVENT_TYPE_CALL_ACCEPTED = 'call.accepted'
    EVENT_TYPE_CALL_BLOCKED_USER = 'call.blocked_user'
    EVENT_TYPE_CALL_CLOSED_CAPTION = 'call.closed_caption'
    EVENT_TYPE_CALL_CLOSED_CAPTIONS_FAILED = 'call.closed_captions_failed'
    EVENT_TYPE_CALL_CLOSED_CAPTIONS_STARTED = 'call.closed_captions_started'
    EVENT_TYPE_CALL_CLOSED_CAPTIONS_STOPPED = 'call.closed_captions_stopped'
    EVENT_TYPE_CALL_CREATED = 'call.created'
    EVENT_TYPE_CALL_DELETED = 'call.deleted'
    EVENT_TYPE_CALL_DTMF = 'call.dtmf'
    EVENT_TYPE_CALL_ENDED = 'call.ended'
    EVENT_TYPE_CALL_FRAME_RECORDING_FAILED = 'call.frame_recording_failed'
    EVENT_TYPE_CALL_FRAME_RECORDING_READY = 'call.frame_recording_ready'
    EVENT_TYPE_CALL_FRAME_RECORDING_STARTED = 'call.frame_recording_started'
    EVENT_TYPE_CALL_FRAME_RECORDING_STOPPED = 'call.frame_recording_stopped'
    EVENT_TYPE_CALL_HLS_BROADCASTING_FAILED = 'call.hls_broadcasting_failed'
    EVENT_TYPE_CALL_HLS_BROADCASTING_STARTED = 'call.hls_broadcasting_started'
    EVENT_TYPE_CALL_HLS_BROADCASTING_STOPPED = 'call.hls_broadcasting_stopped'
    EVENT_TYPE_CALL_KICKED_USER = 'call.kicked_user'
    EVENT_TYPE_CALL_LIVE_STARTED = 'call.live_started'
    EVENT_TYPE_CALL_MEMBER_ADDED = 'call.member_added'
    EVENT_TYPE_CALL_MEMBER_REMOVED = 'call.member_removed'
    EVENT_TYPE_CALL_MEMBER_UPDATED = 'call.member_updated'
    EVENT_TYPE_CALL_MEMBER_UPDATED_PERMISSION = 'call.member_updated_permission'
    EVENT_TYPE_CALL_MISSED = 'call.missed'
    EVENT_TYPE_CALL_MODERATION_BLUR = 'call.moderation_blur'
    EVENT_TYPE_CALL_MODERATION_WARNING = 'call.moderation_warning'
    EVENT_TYPE_CALL_NOTIFICATION = 'call.notification'
    EVENT_TYPE_CALL_PERMISSION_REQUEST = 'call.permission_request'
    EVENT_TYPE_CALL_PERMISSIONS_UPDATED = 'call.permissions_updated'
    EVENT_TYPE_CALL_REACTION_NEW = 'call.reaction_new'
    EVENT_TYPE_CALL_RECORDING_FAILED = 'call.recording_failed'
    EVENT_TYPE_CALL_RECORDING_READY = 'call.recording_ready'
    EVENT_TYPE_CALL_RECORDING_STARTED = 'call.recording_started'
    EVENT_TYPE_CALL_RECORDING_STOPPED = 'call.recording_stopped'
    EVENT_TYPE_CALL_REJECTED = 'call.rejected'
    EVENT_TYPE_CALL_RING = 'call.ring'
    EVENT_TYPE_CALL_RTMP_BROADCAST_FAILED = 'call.rtmp_broadcast_failed'
    EVENT_TYPE_CALL_RTMP_BROADCAST_STARTED = 'call.rtmp_broadcast_started'
    EVENT_TYPE_CALL_RTMP_BROADCAST_STOPPED = 'call.rtmp_broadcast_stopped'
    EVENT_TYPE_CALL_SESSION_ENDED = 'call.session_ended'
    EVENT_TYPE_CALL_SESSION_PARTICIPANT_COUNT_UPDATED = 'call.session_participant_count_updated'
    EVENT_TYPE_CALL_SESSION_PARTICIPANT_JOINED = 'call.session_participant_joined'
    EVENT_TYPE_CALL_SESSION_PARTICIPANT_LEFT = 'call.session_participant_left'
    EVENT_TYPE_CALL_SESSION_STARTED = 'call.session_started'
    EVENT_TYPE_CALL_STATS_REPORT_READY = 'call.stats_report_ready'
    EVENT_TYPE_CALL_TRANSCRIPTION_FAILED = 'call.transcription_failed'
    EVENT_TYPE_CALL_TRANSCRIPTION_READY = 'call.transcription_ready'
    EVENT_TYPE_CALL_TRANSCRIPTION_STARTED = 'call.transcription_started'
    EVENT_TYPE_CALL_TRANSCRIPTION_STOPPED = 'call.transcription_stopped'
    EVENT_TYPE_CALL_UNBLOCKED_USER = 'call.unblocked_user'
    EVENT_TYPE_CALL_UPDATED = 'call.updated'
    EVENT_TYPE_CALL_USER_FEEDBACK_SUBMITTED = 'call.user_feedback_submitted'
    EVENT_TYPE_CALL_USER_MUTED = 'call.user_muted'
    EVENT_TYPE_CAMPAIGN_COMPLETED = 'campaign.completed'
    EVENT_TYPE_CAMPAIGN_STARTED = 'campaign.started'
    EVENT_TYPE_CHANNEL_CREATED = 'channel.created'
    EVENT_TYPE_CHANNEL_DELETED = 'channel.deleted'
    EVENT_TYPE_CHANNEL_FROZEN = 'channel.frozen'
    EVENT_TYPE_CHANNEL_HIDDEN = 'channel.hidden'
    EVENT_TYPE_CHANNEL_MAX_STREAK_CHANGED = 'channel.max_streak_changed'
    EVENT_TYPE_CHANNEL_MUTED = 'channel.muted'
    EVENT_TYPE_CHANNEL_TRUNCATED = 'channel.truncated'
    EVENT_TYPE_CHANNEL_UNFROZEN = 'channel.unfrozen'
    EVENT_TYPE_CHANNEL_UNMUTED = 'channel.unmuted'
    EVENT_TYPE_CHANNEL_UPDATED = 'channel.updated'
    EVENT_TYPE_CHANNEL_VISIBLE = 'channel.visible'
    EVENT_TYPE_CHANNEL_BATCH_UPDATE_COMPLETED = 'channel_batch_update.completed'
    EVENT_TYPE_CHANNEL_BATCH_UPDATE_STARTED = 'channel_batch_update.started'
    EVENT_TYPE_CUSTOM = 'custom'
    EVENT_TYPE_EXPORT_BULK_IMAGE_MODERATION_ERROR = 'export.bulk_image_moderation.error'
    EVENT_TYPE_EXPORT_BULK_IMAGE_MODERATION_SUCCESS = 'export.bulk_image_moderation.success'
    EVENT_TYPE_EXPORT_CHANNELS_ERROR = 'export.channels.error'
    EVENT_TYPE_EXPORT_CHANNELS_SUCCESS = 'export.channels.success'
    EVENT_TYPE_EXPORT_MODERATION_LOGS_ERROR = 'export.moderation_logs.error'
    EVENT_TYPE_EXPORT_MODERATION_LOGS_SUCCESS = 'export.moderation_logs.success'
    EVENT_TYPE_EXPORT_USERS_ERROR = 'export.users.error'
    EVENT_TYPE_EXPORT_USERS_SUCCESS = 'export.users.success'
    EVENT_TYPE_FEEDS_ACTIVITY_ADDED = 'feeds.activity.added'
    EVENT_TYPE_FEEDS_ACTIVITY_DELETED = 'feeds.activity.deleted'
    EVENT_TYPE_FEEDS_ACTIVITY_FEEDBACK = 'feeds.activity.feedback'
    EVENT_TYPE_FEEDS_ACTIVITY_MARKED = 'feeds.activity.marked'
    EVENT_TYPE_FEEDS_ACTIVITY_PINNED = 'feeds.activity.pinned'
    EVENT_TYPE_FEEDS_ACTIVITY_REACTION_ADDED = 'feeds.activity.reaction.added'
    EVENT_TYPE_FEEDS_ACTIVITY_REACTION_DELETED = 'feeds.activity.reaction.deleted'
    EVENT_TYPE_FEEDS_ACTIVITY_REACTION_UPDATED = 'feeds.activity.reaction.updated'
    EVENT_TYPE_FEEDS_ACTIVITY_REMOVED_FROM_FEED = 'feeds.activity.removed_from_feed'
    EVENT_TYPE_FEEDS_ACTIVITY_RESTORED = 'feeds.activity.restored'
    EVENT_TYPE_FEEDS_ACTIVITY_UNPINNED = 'feeds.activity.unpinned'
    EVENT_TYPE_FEEDS_ACTIVITY_UPDATED = 'feeds.activity.updated'
    EVENT_TYPE_FEEDS_BOOKMARK_ADDED = 'feeds.bookmark.added'
    EVENT_TYPE_FEEDS_BOOKMARK_DELETED = 'feeds.bookmark.deleted'
    EVENT_TYPE_FEEDS_BOOKMARK_UPDATED = 'feeds.bookmark.updated'
    EVENT_TYPE_FEEDS_BOOKMARK_FOLDER_DELETED = 'feeds.bookmark_folder.deleted'
    EVENT_TYPE_FEEDS_BOOKMARK_FOLDER_UPDATED = 'feeds.bookmark_folder.updated'
    EVENT_TYPE_FEEDS_COMMENT_ADDED = 'feeds.comment.added'
    EVENT_TYPE_FEEDS_COMMENT_DELETED = 'feeds.comment.deleted'
    EVENT_TYPE_FEEDS_COMMENT_REACTION_ADDED = 'feeds.comment.reaction.added'
    EVENT_TYPE_FEEDS_COMMENT_REACTION_DELETED = 'feeds.comment.reaction.deleted'
    EVENT_TYPE_FEEDS_COMMENT_REACTION_UPDATED = 'feeds.comment.reaction.updated'
    EVENT_TYPE_FEEDS_COMMENT_UPDATED = 'feeds.comment.updated'
    EVENT_TYPE_FEEDS_FEED_CREATED = 'feeds.feed.created'
    EVENT_TYPE_FEEDS_FEED_DELETED = 'feeds.feed.deleted'
    EVENT_TYPE_FEEDS_FEED_UPDATED = 'feeds.feed.updated'
    EVENT_TYPE_FEEDS_FEED_GROUP_CHANGED = 'feeds.feed_group.changed'
    EVENT_TYPE_FEEDS_FEED_GROUP_DELETED = 'feeds.feed_group.deleted'
    EVENT_TYPE_FEEDS_FEED_MEMBER_ADDED = 'feeds.feed_member.added'
    EVENT_TYPE_FEEDS_FEED_MEMBER_REMOVED = 'feeds.feed_member.removed'
    EVENT_TYPE_FEEDS_FEED_MEMBER_UPDATED = 'feeds.feed_member.updated'
    EVENT_TYPE_FEEDS_FOLLOW_CREATED = 'feeds.follow.created'
    EVENT_TYPE_FEEDS_FOLLOW_DELETED = 'feeds.follow.deleted'
    EVENT_TYPE_FEEDS_FOLLOW_UPDATED = 'feeds.follow.updated'
    EVENT_TYPE_FEEDS_NOTIFICATION_FEED_UPDATED = 'feeds.notification_feed.updated'
    EVENT_TYPE_FEEDS_STORIES_FEED_UPDATED = 'feeds.stories_feed.updated'
    EVENT_TYPE_FLAG_UPDATED = 'flag.updated'
    EVENT_TYPE_INGRESS_ERROR = 'ingress.error'
    EVENT_TYPE_INGRESS_STARTED = 'ingress.started'
    EVENT_TYPE_INGRESS_STOPPED = 'ingress.stopped'
    EVENT_TYPE_MEMBER_ADDED = 'member.added'
    EVENT_TYPE_MEMBER_REMOVED = 'member.removed'
    EVENT_TYPE_MEMBER_UPDATED = 'member.updated'
    EVENT_TYPE_MESSAGE_DELETED = 'message.deleted'
    EVENT_TYPE_MESSAGE_FLAGGED = 'message.flagged'
    EVENT_TYPE_MESSAGE_NEW = 'message.new'
    EVENT_TYPE_MESSAGE_PENDING = 'message.pending'
    EVENT_TYPE_MESSAGE_READ = 'message.read'
    EVENT_TYPE_MESSAGE_UNBLOCKED = 'message.unblocked'
    EVENT_TYPE_MESSAGE_UNDELETED = 'message.undeleted'
    EVENT_TYPE_MESSAGE_UPDATED = 'message.updated'
    EVENT_TYPE_MODERATION_CUSTOM_ACTION = 'moderation.custom_action'
    EVENT_TYPE_MODERATION_FLAGGED = 'moderation.flagged'
    EVENT_TYPE_MODERATION_MARK_REVIEWED = 'moderation.mark_reviewed'
    EVENT_TYPE_MODERATION_CHECK_COMPLETED = 'moderation_check.completed'
    EVENT_TYPE_NOTIFICATION_MARK_UNREAD = 'notification.mark_unread'
    EVENT_TYPE_NOTIFICATION_REMINDER_DUE = 'notification.reminder_due'
    EVENT_TYPE_NOTIFICATION_THREAD_MESSAGE_NEW = 'notification.thread_message_new'
    EVENT_TYPE_REACTION_DELETED = 'reaction.deleted'
    EVENT_TYPE_REACTION_NEW = 'reaction.new'
    EVENT_TYPE_REACTION_UPDATED = 'reaction.updated'
    EVENT_TYPE_REMINDER_CREATED = 'reminder.created'
    EVENT_TYPE_REMINDER_DELETED = 'reminder.deleted'
    EVENT_TYPE_REMINDER_UPDATED = 'reminder.updated'
    EVENT_TYPE_REVIEW_QUEUE_ITEM_NEW = 'review_queue_item.new'
    EVENT_TYPE_REVIEW_QUEUE_ITEM_UPDATED = 'review_queue_item.updated'
    EVENT_TYPE_THREAD_UPDATED = 'thread.updated'
    EVENT_TYPE_USER_BANNED = 'user.banned'
    EVENT_TYPE_USER_DEACTIVATED = 'user.deactivated'
    EVENT_TYPE_USER_DELETED = 'user.deleted'
    EVENT_TYPE_USER_FLAGGED = 'user.flagged'
    EVENT_TYPE_USER_MESSAGES_DELETED = 'user.messages.deleted'
    EVENT_TYPE_USER_MUTED = 'user.muted'
    EVENT_TYPE_USER_REACTIVATED = 'user.reactivated'
    EVENT_TYPE_USER_UNBANNED = 'user.unbanned'
    EVENT_TYPE_USER_UNMUTED = 'user.unmuted'
    EVENT_TYPE_USER_UNREAD_MESSAGE_REMINDER = 'user.unread_message_reminder'
    EVENT_TYPE_USER_UPDATED = 'user.updated'

    # Extract the event type from a raw webhook payload.
    #
    # @param raw_event [String, Hash] The raw webhook payload
    # @return [String, nil] The event type string (e.g., "message.new")
    def self.get_event_type(raw_event)
      data = parse_to_hash(raw_event)
      data&.fetch('type', nil)
    end

    # Deserialize a raw webhook payload into a typed event object.
    #
    # @param raw_event [String, Hash] The raw webhook payload
    # @return [Object] A typed event object corresponding to the event type
    # @raise [ArgumentError] if the event type is unknown or deserialization fails
    def self.parse_webhook_event(raw_event)
      data = parse_to_hash(raw_event)
      raise ArgumentError, 'Invalid webhook payload' unless data

      event_type = data['type']
      raise ArgumentError, "Webhook payload missing 'type' field" unless event_type

      event_class = event_class_for_type(event_type)
      raise ArgumentError, "Unknown webhook event type: #{event_type}" unless event_class

      event_class.new(data)
    rescue JSON::ParserError => e
      raise ArgumentError, "Invalid JSON in webhook payload: #{e.message}"
    rescue StandardError => e
      raise ArgumentError, "Failed to deserialize webhook event: #{e.message}"
    end

    private_class_method def self.parse_to_hash(raw_event)
      case raw_event
      when Hash
        raw_event
      when String
        JSON.parse(raw_event)
      else
        nil
      end
    end

    private_class_method def self.event_class_for_type(event_type)
      case event_type
      when '*'
        StreamChat::CustomEvent
      when 'appeal.accepted'
        StreamChat::AppealAcceptedEvent
      when 'appeal.created'
        StreamChat::AppealCreatedEvent
      when 'appeal.rejected'
        StreamChat::AppealRejectedEvent
      when 'call.accepted'
        StreamChat::CallAcceptedEvent
      when 'call.blocked_user'
        StreamChat::BlockedUserEvent
      when 'call.closed_caption'
        StreamChat::ClosedCaptionEvent
      when 'call.closed_captions_failed'
        StreamChat::CallClosedCaptionsFailedEvent
      when 'call.closed_captions_started'
        StreamChat::CallClosedCaptionsStartedEvent
      when 'call.closed_captions_stopped'
        StreamChat::CallClosedCaptionsStoppedEvent
      when 'call.created'
        StreamChat::CallCreatedEvent
      when 'call.deleted'
        StreamChat::CallDeletedEvent
      when 'call.dtmf'
        StreamChat::CallDTMFEvent
      when 'call.ended'
        StreamChat::CallEndedEvent
      when 'call.frame_recording_failed'
        StreamChat::CallFrameRecordingFailedEvent
      when 'call.frame_recording_ready'
        StreamChat::CallFrameRecordingFrameReadyEvent
      when 'call.frame_recording_started'
        StreamChat::CallFrameRecordingStartedEvent
      when 'call.frame_recording_stopped'
        StreamChat::CallFrameRecordingStoppedEvent
      when 'call.hls_broadcasting_failed'
        StreamChat::CallHLSBroadcastingFailedEvent
      when 'call.hls_broadcasting_started'
        StreamChat::CallHLSBroadcastingStartedEvent
      when 'call.hls_broadcasting_stopped'
        StreamChat::CallHLSBroadcastingStoppedEvent
      when 'call.kicked_user'
        StreamChat::KickedUserEvent
      when 'call.live_started'
        StreamChat::CallLiveStartedEvent
      when 'call.member_added'
        StreamChat::CallMemberAddedEvent
      when 'call.member_removed'
        StreamChat::CallMemberRemovedEvent
      when 'call.member_updated'
        StreamChat::CallMemberUpdatedEvent
      when 'call.member_updated_permission'
        StreamChat::CallMemberUpdatedPermissionEvent
      when 'call.missed'
        StreamChat::CallMissedEvent
      when 'call.moderation_blur'
        StreamChat::CallModerationBlurEvent
      when 'call.moderation_warning'
        StreamChat::CallModerationWarningEvent
      when 'call.notification'
        StreamChat::CallNotificationEvent
      when 'call.permission_request'
        StreamChat::PermissionRequestEvent
      when 'call.permissions_updated'
        StreamChat::UpdatedCallPermissionsEvent
      when 'call.reaction_new'
        StreamChat::CallReactionEvent
      when 'call.recording_failed'
        StreamChat::CallRecordingFailedEvent
      when 'call.recording_ready'
        StreamChat::CallRecordingReadyEvent
      when 'call.recording_started'
        StreamChat::CallRecordingStartedEvent
      when 'call.recording_stopped'
        StreamChat::CallRecordingStoppedEvent
      when 'call.rejected'
        StreamChat::CallRejectedEvent
      when 'call.ring'
        StreamChat::CallRingEvent
      when 'call.rtmp_broadcast_failed'
        StreamChat::CallRtmpBroadcastFailedEvent
      when 'call.rtmp_broadcast_started'
        StreamChat::CallRtmpBroadcastStartedEvent
      when 'call.rtmp_broadcast_stopped'
        StreamChat::CallRtmpBroadcastStoppedEvent
      when 'call.session_ended'
        StreamChat::CallSessionEndedEvent
      when 'call.session_participant_count_updated'
        StreamChat::CallSessionParticipantCountsUpdatedEvent
      when 'call.session_participant_joined'
        StreamChat::CallSessionParticipantJoinedEvent
      when 'call.session_participant_left'
        StreamChat::CallSessionParticipantLeftEvent
      when 'call.session_started'
        StreamChat::CallSessionStartedEvent
      when 'call.stats_report_ready'
        StreamChat::CallStatsReportReadyEvent
      when 'call.transcription_failed'
        StreamChat::CallTranscriptionFailedEvent
      when 'call.transcription_ready'
        StreamChat::CallTranscriptionReadyEvent
      when 'call.transcription_started'
        StreamChat::CallTranscriptionStartedEvent
      when 'call.transcription_stopped'
        StreamChat::CallTranscriptionStoppedEvent
      when 'call.unblocked_user'
        StreamChat::UnblockedUserEvent
      when 'call.updated'
        StreamChat::CallUpdatedEvent
      when 'call.user_feedback_submitted'
        StreamChat::CallUserFeedbackSubmittedEvent
      when 'call.user_muted'
        StreamChat::CallUserMutedEvent
      when 'campaign.completed'
        StreamChat::CampaignCompletedEvent
      when 'campaign.started'
        StreamChat::CampaignStartedEvent
      when 'channel.created'
        StreamChat::ChannelCreatedEvent
      when 'channel.deleted'
        StreamChat::ChannelDeletedEvent
      when 'channel.frozen'
        StreamChat::ChannelFrozenEvent
      when 'channel.hidden'
        StreamChat::ChannelHiddenEvent
      when 'channel.max_streak_changed'
        StreamChat::MaxStreakChangedEvent
      when 'channel.muted'
        StreamChat::ChannelMutedEvent
      when 'channel.truncated'
        StreamChat::ChannelTruncatedEvent
      when 'channel.unfrozen'
        StreamChat::ChannelUnFrozenEvent
      when 'channel.unmuted'
        StreamChat::ChannelUnmutedEvent
      when 'channel.updated'
        StreamChat::ChannelUpdatedEvent
      when 'channel.visible'
        StreamChat::ChannelVisibleEvent
      when 'channel_batch_update.completed'
        StreamChat::ChannelBatchCompletedEvent
      when 'channel_batch_update.started'
        StreamChat::ChannelBatchStartedEvent
      when 'custom'
        StreamChat::CustomVideoEvent
      when 'export.bulk_image_moderation.error'
        StreamChat::AsyncExportErrorEvent
      when 'export.bulk_image_moderation.success'
        StreamChat::AsyncBulkImageModerationEvent
      when 'export.channels.error'
        StreamChat::AsyncExportErrorEvent
      when 'export.channels.success'
        StreamChat::AsyncExportChannelsEvent
      when 'export.moderation_logs.error'
        StreamChat::AsyncExportErrorEvent
      when 'export.moderation_logs.success'
        StreamChat::AsyncExportModerationLogsEvent
      when 'export.users.error'
        StreamChat::AsyncExportErrorEvent
      when 'export.users.success'
        StreamChat::AsyncExportUsersEvent
      when 'feeds.activity.added'
        StreamChat::ActivityAddedEvent
      when 'feeds.activity.deleted'
        StreamChat::ActivityDeletedEvent
      when 'feeds.activity.feedback'
        StreamChat::ActivityFeedbackEvent
      when 'feeds.activity.marked'
        StreamChat::ActivityMarkEvent
      when 'feeds.activity.pinned'
        StreamChat::ActivityPinnedEvent
      when 'feeds.activity.reaction.added'
        StreamChat::ActivityReactionAddedEvent
      when 'feeds.activity.reaction.deleted'
        StreamChat::ActivityReactionDeletedEvent
      when 'feeds.activity.reaction.updated'
        StreamChat::ActivityReactionUpdatedEvent
      when 'feeds.activity.removed_from_feed'
        StreamChat::ActivityRemovedFromFeedEvent
      when 'feeds.activity.restored'
        StreamChat::ActivityRestoredEvent
      when 'feeds.activity.unpinned'
        StreamChat::ActivityUnpinnedEvent
      when 'feeds.activity.updated'
        StreamChat::ActivityUpdatedEvent
      when 'feeds.bookmark.added'
        StreamChat::BookmarkAddedEvent
      when 'feeds.bookmark.deleted'
        StreamChat::BookmarkDeletedEvent
      when 'feeds.bookmark.updated'
        StreamChat::BookmarkUpdatedEvent
      when 'feeds.bookmark_folder.deleted'
        StreamChat::BookmarkFolderDeletedEvent
      when 'feeds.bookmark_folder.updated'
        StreamChat::BookmarkFolderUpdatedEvent
      when 'feeds.comment.added'
        StreamChat::CommentAddedEvent
      when 'feeds.comment.deleted'
        StreamChat::CommentDeletedEvent
      when 'feeds.comment.reaction.added'
        StreamChat::CommentReactionAddedEvent
      when 'feeds.comment.reaction.deleted'
        StreamChat::CommentReactionDeletedEvent
      when 'feeds.comment.reaction.updated'
        StreamChat::CommentReactionUpdatedEvent
      when 'feeds.comment.updated'
        StreamChat::CommentUpdatedEvent
      when 'feeds.feed.created'
        StreamChat::FeedCreatedEvent
      when 'feeds.feed.deleted'
        StreamChat::FeedDeletedEvent
      when 'feeds.feed.updated'
        StreamChat::FeedUpdatedEvent
      when 'feeds.feed_group.changed'
        StreamChat::FeedGroupChangedEvent
      when 'feeds.feed_group.deleted'
        StreamChat::FeedGroupDeletedEvent
      when 'feeds.feed_member.added'
        StreamChat::FeedMemberAddedEvent
      when 'feeds.feed_member.removed'
        StreamChat::FeedMemberRemovedEvent
      when 'feeds.feed_member.updated'
        StreamChat::FeedMemberUpdatedEvent
      when 'feeds.follow.created'
        StreamChat::FollowCreatedEvent
      when 'feeds.follow.deleted'
        StreamChat::FollowDeletedEvent
      when 'feeds.follow.updated'
        StreamChat::FollowUpdatedEvent
      when 'feeds.notification_feed.updated'
        StreamChat::NotificationFeedUpdatedEvent
      when 'feeds.stories_feed.updated'
        StreamChat::StoriesFeedUpdatedEvent
      when 'flag.updated'
        StreamChat::FlagUpdatedEvent
      when 'ingress.error'
        StreamChat::IngressErrorEvent
      when 'ingress.started'
        StreamChat::IngressStartedEvent
      when 'ingress.stopped'
        StreamChat::IngressStoppedEvent
      when 'member.added'
        StreamChat::MemberAddedEvent
      when 'member.removed'
        StreamChat::MemberRemovedEvent
      when 'member.updated'
        StreamChat::MemberUpdatedEvent
      when 'message.deleted'
        StreamChat::MessageDeletedEvent
      when 'message.flagged'
        StreamChat::MessageFlaggedEvent
      when 'message.new'
        StreamChat::MessageNewEvent
      when 'message.pending'
        StreamChat::PendingMessageEvent
      when 'message.read'
        StreamChat::MessageReadEvent
      when 'message.unblocked'
        StreamChat::MessageUnblockedEvent
      when 'message.undeleted'
        StreamChat::MessageUndeletedEvent
      when 'message.updated'
        StreamChat::MessageUpdatedEvent
      when 'moderation.custom_action'
        StreamChat::ModerationCustomActionEvent
      when 'moderation.flagged'
        StreamChat::ModerationFlaggedEvent
      when 'moderation.mark_reviewed'
        StreamChat::ModerationMarkReviewedEvent
      when 'moderation_check.completed'
        StreamChat::ModerationCheckCompletedEvent
      when 'notification.mark_unread'
        StreamChat::NotificationMarkUnreadEvent
      when 'notification.reminder_due'
        StreamChat::ReminderNotificationEvent
      when 'notification.thread_message_new'
        StreamChat::NotificationThreadMessageNewEvent
      when 'reaction.deleted'
        StreamChat::ReactionDeletedEvent
      when 'reaction.new'
        StreamChat::ReactionNewEvent
      when 'reaction.updated'
        StreamChat::ReactionUpdatedEvent
      when 'reminder.created'
        StreamChat::ReminderCreatedEvent
      when 'reminder.deleted'
        StreamChat::ReminderDeletedEvent
      when 'reminder.updated'
        StreamChat::ReminderUpdatedEvent
      when 'review_queue_item.new'
        StreamChat::ReviewQueueItemNewEvent
      when 'review_queue_item.updated'
        StreamChat::ReviewQueueItemUpdatedEvent
      when 'thread.updated'
        StreamChat::ThreadUpdatedEvent
      when 'user.banned'
        StreamChat::UserBannedEvent
      when 'user.deactivated'
        StreamChat::UserDeactivatedEvent
      when 'user.deleted'
        StreamChat::UserDeletedEvent
      when 'user.flagged'
        StreamChat::UserFlaggedEvent
      when 'user.messages.deleted'
        StreamChat::UserMessagesDeletedEvent
      when 'user.muted'
        StreamChat::UserMutedEvent
      when 'user.reactivated'
        StreamChat::UserReactivatedEvent
      when 'user.unbanned'
        StreamChat::UserUnbannedEvent
      when 'user.unmuted'
        StreamChat::UserUnmutedEvent
      when 'user.unread_message_reminder'
        StreamChat::UserUnreadReminderEvent
      when 'user.updated'
        StreamChat::UserUpdatedEvent
      else
        nil
      end
    end

    public

    # Verify the HMAC-SHA256 signature of a webhook payload.
    #
    # @param body [String] The raw request body
    # @param signature [String] The signature from the X-Signature header
    # @param secret [String] Your webhook secret (found in the Stream Dashboard)
    # @return [Boolean] true if the signature is valid, false otherwise
    def self.verify_signature(body, signature, secret)
      return false if signature.nil? || signature.bytesize != 64
      
      expected = OpenSSL::HMAC.hexdigest('SHA256', secret, body)
      OpenSSL.fixed_length_secure_compare(signature, expected)
    rescue ArgumentError
      false
    end
  end
end
